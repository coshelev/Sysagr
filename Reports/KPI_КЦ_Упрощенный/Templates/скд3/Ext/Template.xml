<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИсточникДанных1</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetQuery">
		<name>НаборДанных1</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>Подразделение</dataPath>
			<field>Подразделение</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Подразделение</v8:content>
				</v8:item>
			</title>
			<presentationExpression>Подразделение.НаименованиеПолное</presentationExpression>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Дата</dataPath>
			<field>Дата</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Дата</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального_Свод</dataPath>
			<field>КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального_Свод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Кол во звонков не принятых с ожиданием меньше минимального свод</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КолВоЗвонковВсего_Свод</dataPath>
			<field>КолВоЗвонковВсего_Свод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Кол во звонков всего свод</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КолВоЗвонковОжиданиеСверхНормы_Свод</dataPath>
			<field>КолВоЗвонковОжиданиеСверхНормы_Свод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Кол во звонков ожидание сверх нормы свод</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КолВоПовтЗвонковПринятыхКЦ_Свод</dataPath>
			<field>КолВоПовтЗвонковПринятыхКЦ_Свод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Кол во повт звонков принятых к ц свод</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СреднееВремяОжидания_Свод</dataPath>
			<field>СреднееВремяОжидания_Свод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Среднее время ожидания свод</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДоляУспешныхПерезвоновНаПропущенныеКЦ_Свод</dataPath>
			<field>ДоляУспешныхПерезвоновНаПропущенныеКЦ_Свод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Доля успешных перезвонов на пропущенные к ц свод</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КолВоЗвонковПринятых_Свод</dataPath>
			<field>КолВоЗвонковПринятых_Свод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Кол во звонков принятых свод</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КолВоУспешныхПерезвоновНаНепринятыеКЦ_Свод</dataPath>
			<field>КолВоУспешныхПерезвоновНаНепринятыеКЦ_Свод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Кол во успешных перезвонов на непринятые к ц свод</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КолВоНепринятыхКЦБезАнонимных_Свод</dataPath>
			<field>КолВоНепринятыхКЦБезАнонимных_Свод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Кол во непринятых КЦБез анонимных свод</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДоляНепринятых_Свод</dataPath>
			<field>ДоляНепринятых_Свод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Доля непринятых свод</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КолВоЗвонковНеПринятых_Свод</dataPath>
			<field>КолВоЗвонковНеПринятых_Свод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Кол во звонков не принятых свод</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДоляОжидавшихСверхНормы_Свод</dataPath>
			<field>ДоляОжидавшихСверхНормы_Свод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Доля ожидавших сверх нормы свод</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПолеУпорядочиванияПараметра</dataPath>
			<field>ПолеУпорядочиванияПараметра</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Поле упорядочивания параметра</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ИмяПараметра</dataPath>
			<field>ИмяПараметра</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Имя параметра</v8:content>
				</v8:item>
			</title>
			<orderExpression>
				<dcscom:expression>ПолеУпорядочиванияПараметра</dcscom:expression>
				<dcscom:orderType>Asc</dcscom:orderType>
				<dcscom:autoOrder>false</dcscom:autoOrder>
			</orderExpression>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЗначениеПараметра</dataPath>
			<field>ЗначениеПараметра</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Значение параметра</v8:content>
				</v8:item>
			</title>
		</field>
		<dataSource>ИсточникДанных1</dataSource>
		<query>ВЫБРАТЬ
	ГрафикиРаботы.Ссылка КАК Ссылка,
	1 КАК ДеньНедели,
	ГрафикиРаботы.БудНач КАК ВремяНач,
	ГрафикиРаботы.БудКон КАК ВремяКон
ПОМЕСТИТЬ ВТ_ГрафикиРаботы
ИЗ
	Справочник.ГрафикиРаботы КАК ГрафикиРаботы

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ГрафикиРаботы.Ссылка,
	2,
	ГрафикиРаботы.БудНач,
	ГрафикиРаботы.БудКон
ИЗ
	Справочник.ГрафикиРаботы КАК ГрафикиРаботы

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ГрафикиРаботы.Ссылка,
	3,
	ГрафикиРаботы.БудНач,
	ГрафикиРаботы.БудКон
ИЗ
	Справочник.ГрафикиРаботы КАК ГрафикиРаботы

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ГрафикиРаботы.Ссылка,
	4,
	ГрафикиРаботы.БудНач,
	ГрафикиРаботы.БудКон
ИЗ
	Справочник.ГрафикиРаботы КАК ГрафикиРаботы

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ГрафикиРаботы.Ссылка,
	5,
	ГрафикиРаботы.БудНач,
	ГрафикиРаботы.БудКон
ИЗ
	Справочник.ГрафикиРаботы КАК ГрафикиРаботы

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ГрафикиРаботы.Ссылка,
	6,
	ГрафикиРаботы.СубНач,
	ГрафикиРаботы.СубКон
ИЗ
	Справочник.ГрафикиРаботы КАК ГрафикиРаботы

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ГрафикиРаботы.Ссылка,
	7,
	ГрафикиРаботы.ВскНач,
	ГрафикиРаботы.ВскКон
ИЗ
	Справочник.ГрафикиРаботы КАК ГрафикиРаботы
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	Звонки.Дата КАК Дата,
	ВЫБОР
		КОГДА НЕ Звонки.Принят
				И ЗвонкиСтатОбщая.КЦСсылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Предприятие.ПустаяСсылка)
				И ЗвонкиСтатОбщая.КЦРазговор = 0
				И ЗвонкиСтатОбщая.КЦОжидание &gt;= &amp;МинВремяОжиданияВОчереди
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоЗвонковНеПринятых,
	ВЫБОР
		КОГДА НЕ Звонки.Принят
				И ЗвонкиСтатОбщая.КЦСсылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Предприятие.ПустаяСсылка)
				И ЗвонкиСтатОбщая.КЦРазговор = 0
				И Звонки.АбонентВнешний = "Anonimous"
				И ЗвонкиСтатОбщая.КЦОжидание &gt;= &amp;МинВремяОжиданияВОчереди
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоЗвонковАнонимныхНеПринятых,
	ВЫБОР
		КОГДА Звонки.Принят
				ИЛИ НЕ Звонки.Принят
					И ЗвонкиСтатОбщая.КЦРазговор &gt; 0
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоЗвонковПринятых,
	ВЫБОР
		КОГДА Звонки.Принят
				И ЗвонкиСтатОбщая.КЦСсылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Предприятие.ПустаяСсылка)
				И ЗвонкиСтатОбщая.КЦРазговор &gt; 0
				И Звонки.АбонентВнешний = "Anonimous"
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоЗвонковАнонимныхПринятых,
	1 КАК КолВоЗвонковВсего,
	ВЫБОР
		КОГДА Звонки.АбонентВнешний = "Anonimous"
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоЗвонковАнонимныхВсего,
	ВЫБОР
		КОГДА ЗвонкиСтатОбщая.КЦРазговор &gt; 0
			ТОГДА ЗвонкиСтатОбщая.КЦОжидание
		ИНАЧЕ 0
	КОНЕЦ КАК ВремяОжидания,
	ВЫБОР
		КОГДА 
			//(Звонки.Принят
			//	ИЛИ НЕ Звонки.Принят
			//		И ЗвонкиСтатОбщая.КЦРазговор &gt; 0)
			//	И 
				ЗвонкиСтатОбщая.КЦОжидание &gt; &amp;НормаВремениОжиданияКЦ
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоЗвонковОжиданиеСверхНормы,
	ВЫБОР
		КОГДА НЕ Звонки.Принят
				И ЗвонкиСтатОбщая.КЦСсылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Предприятие.ПустаяСсылка)
				И ЗвонкиСтатОбщая.КЦРазговор = 0
				И ЗвонкиСтатОбщая.КЦОжидание &lt; &amp;МинВремяОжиданияВОчереди
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального,
	ЗвонкиСтатОбщая.КЦСсылка КАК Подразделение,
	ЗвонкиСтатОбщая.КЦСсылка.НаименованиеПолное КАК НаименованиеПодразделения,
	ЗвонкиСтатОбщая.КЦСсылка.ГрафикРаботы КАК ГрафикРаботы,
	Звонки.Сигнатура КАК Сигнатура,
	Звонки.АбонентВнешний КАК АбонентВнешний,
	Звонки.Инициатор КАК Инициатор
ПОМЕСТИТЬ ВТ_ЗвонкиБезФильтраПоВремени_КЦ_0
ИЗ
	РегистрСведений.ЗвонкиСтатОбщая КАК ЗвонкиСтатОбщая
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Звонки КАК Звонки
		ПО ЗвонкиСтатОбщая.Сигнатура = Звонки.Сигнатура
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.КонтактЦентры КАК КонтактЦентры
		ПО ЗвонкиСтатОбщая.КЦСсылка = КонтактЦентры.Подразделение
ГДЕ
	Звонки.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И Звонки.ЭтоВходящий = ИСТИНА
	И НЕ Звонки.Инициатор В (&amp;ИсключаемыеТеНомераПриемники)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ.Дата КАК Дата,
	ВТ.КолВоЗвонковНеПринятых КАК КолВоЗвонковНеПринятых,
	ВТ.КолВоЗвонковАнонимныхНеПринятых КАК КолВоЗвонковАнонимныхНеПринятых,
	ВТ.КолВоЗвонковПринятых КАК КолВоЗвонковПринятых,
	ВТ.КолВоЗвонковАнонимныхПринятых КАК КолВоЗвонковАнонимныхПринятых,
	ВТ.КолВоЗвонковВсего КАК КолВоЗвонковВсего,
	ВТ.КолВоЗвонковАнонимныхВсего КАК КолВоЗвонковАнонимныхВсего,
	ВТ.ВремяОжидания КАК ВремяОжидания,
	ВТ.КолВоЗвонковОжиданиеСверхНормы КАК КолВоЗвонковОжиданиеСверхНормы,
	ВТ.КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального КАК КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального,
	ВТ.Подразделение КАК Подразделение,
	ВТ.НаименованиеПодразделения КАК НаименованиеПодразделения,
	ВТ.ГрафикРаботы КАК ГрафикРаботы,
	ВТ.Сигнатура КАК Сигнатура,
	ВТ.АбонентВнешний КАК АбонентВнешний,
	ВТ.Инициатор КАК Инициатор
ПОМЕСТИТЬ ВТ_ЗвонкиБезФильтраПоВремени_КЦ
ИЗ
	ВТ_ЗвонкиБезФильтраПоВремени_КЦ_0 КАК ВТ
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	НАЧАЛОПЕРИОДА(ВТ01.Дата, ДЕНЬ) КАК Дата,
	ВТ01.Дата КАК ДатаВремя,
	ВТ01.КолВоЗвонковНеПринятых КАК КолВоЗвонковНеПринятых,
	ВТ01.КолВоЗвонковАнонимныхНеПринятых КАК КолВоЗвонковАнонимныхНеПринятых,
	ВТ01.КолВоЗвонковПринятых КАК КолВоЗвонковПринятых,
	ВТ01.КолВоЗвонковАнонимныхПринятых КАК КолВоЗвонковАнонимныхПринятых,
	ВТ01.КолВоЗвонковВсего КАК КолВоЗвонковВсего,
	ВТ01.КолВоЗвонковАнонимныхВсего КАК КолВоЗвонковАнонимныхВсего,
	ВТ01.ВремяОжидания КАК ВремяОжидания,
	ВТ01.КолВоЗвонковОжиданиеСверхНормы КАК КолВоЗвонковОжиданиеСверхНормы,
	ВТ01.КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального КАК КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального,
	ВТ01.Подразделение КАК Подразделение,
	ВТ01.НаименованиеПодразделения КАК НаименованиеПодразделения,
	ВТ_ГрафикиРаботы.ДеньНедели КАК ДеньНедели,
	ВТ_ГрафикиРаботы.ВремяНач КАК ВремяНач,
	ВТ_ГрафикиРаботы.ВремяКон КАК ВремяКон,
	ВТ01.АбонентВнешний КАК АбонентВнешний
ПОМЕСТИТЬ ВТ_Звонки_с_фильтром_по_времени_КЦ
ИЗ
	ВТ_ЗвонкиБезФильтраПоВремени_КЦ КАК ВТ01
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_ГрафикиРаботы КАК ВТ_ГрафикиРаботы
		ПО (ДЕНЬНЕДЕЛИ(ВТ01.Дата) = ВТ_ГрафикиРаботы.ДеньНедели)
			И ВТ01.ГрафикРаботы = ВТ_ГрафикиРаботы.Ссылка
ГДЕ
	ЧАС(ВТ01.Дата) МЕЖДУ ЧАС(ВТ_ГрафикиРаботы.ВремяНач) И ЧАС(ВТ_ГрафикиРаботы.ВремяКон)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	Звонки.Дата КАК Дата,
	ВЫБОР
		КОГДА НЕ Звонки.Принят
				И ЗвонкиСтатОбщая.КЦСсылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Предприятие.ПустаяСсылка)
				И ЗвонкиСтатОбщая.КЦРазговор &gt; 0
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоЗвонковНеПринятых,
	ВЫБОР
		КОГДА НЕ Звонки.Принят
				И ЗвонкиСтатОбщая.КЦСсылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Предприятие.ПустаяСсылка)
				И ЗвонкиСтатОбщая.КЦРазговор &gt; 0
				И Звонки.АбонентВнешний = "Anonimous"
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоЗвонковАнонимныхНеПринятых,
	ВЫБОР
		КОГДА Звонки.Принят
				И ЗвонкиСтатОбщая.ОПСсылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Предприятие.ПустаяСсылка)
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоЗвонковПринятых,
	ВЫБОР
		КОГДА Звонки.Принят
				И ЗвонкиСтатОбщая.ОПСсылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Предприятие.ПустаяСсылка)
				И Звонки.АбонентВнешний = "Anonimous"
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоЗвонковАнонимныхПринятых,
	1 КАК КолВоЗвонковВсего,
	ВЫБОР
		КОГДА Звонки.АбонентВнешний = "Anonimous"
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоЗвонковАнонимныхВсего,
	ЗвонкиСтатОбщая.ОПОжидание КАК ВремяОжидания,
	ВЫБОР
		КОГДА Звонки.Принят
				И ЗвонкиСтатОбщая.ОПОжидание &gt; 15
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоЗвонковОжиданиеСверхНормы,
	ЗвонкиСтатОбщая.ОПСсылка.НаименованиеПолное КАК Подразделение,
	ЗвонкиСтатОбщая.ОПСсылка.ГрафикРаботы КАК ГрафикРаботы,
	ЗвонкиСтатОбщая.КЦСсылка КАК КЦ,
	ЗвонкиСтатОбщая.КЦСсылка.НаименованиеПолное КАК КЦ_Наименование,
	Звонки.Сигнатура КАК Сигнатура,
	Звонки.АбонентВнешний КАК АбонентВнешний
ПОМЕСТИТЬ ВТ_ЗвонкиБезФильтраПоВремени_ОП
ИЗ
	РегистрСведений.ЗвонкиСтатОбщая КАК ЗвонкиСтатОбщая
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Звонки КАК Звонки
		ПО ЗвонкиСтатОбщая.Сигнатура = Звонки.Сигнатура
ГДЕ
	Звонки.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И Звонки.ЭтоВходящий = ИСТИНА
	И НЕ Звонки.Инициатор В (&amp;ИсключаемыеТеНомераПриемники)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	НАЧАЛОПЕРИОДА(ВТ01.Дата, ДЕНЬ) КАК Дата,
	ВТ01.Дата КАК ДатаВремя,
	ВТ01.КолВоЗвонковНеПринятых КАК КолВоЗвонковНеПринятых,
	ВТ01.КолВоЗвонковПринятых КАК КолВоЗвонковПринятых,
	ВТ01.КолВоЗвонковВсего КАК КолВоЗвонковВсего,
	ВТ01.ВремяОжидания КАК ВремяОжидания,
	ВТ01.КолВоЗвонковОжиданиеСверхНормы КАК КолВоЗвонковОжиданиеСверхНормы,
	ВТ01.Подразделение КАК Подразделение,
	ВТ_ГрафикиРаботы.ДеньНедели КАК ДеньНедели,
	ВТ_ГрафикиРаботы.ВремяНач КАК ВремяНач,
	ВТ_ГрафикиРаботы.ВремяКон КАК ВремяКон,
	ВТ01.Сигнатура КАК Сигнатура,
	ВТ01.АбонентВнешний КАК АбонентВнешний,
	ВТ01.ГрафикРаботы КАК ГрафикРаботы,
	ВТ01.КЦ КАК КЦ
ПОМЕСТИТЬ ВТ_Звонки_с_фильтром_по_времени_ОП
ИЗ
	ВТ_ЗвонкиБезФильтраПоВремени_ОП КАК ВТ01
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_ГрафикиРаботы КАК ВТ_ГрафикиРаботы
		ПО (ДЕНЬНЕДЕЛИ(ВТ01.Дата) = ВТ_ГрафикиРаботы.ДеньНедели)
			И ВТ01.ГрафикРаботы = ВТ_ГрафикиРаботы.Ссылка
ГДЕ
	ЧАС(ВТ01.Дата) МЕЖДУ ЧАС(ВТ_ГрафикиРаботы.ВремяНач) И ЧАС(ВТ_ГрафикиРаботы.ВремяКон)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВсеНепринятые.Дата КАК Дата,
	ВсеНепринятые.АбонентВнешний КАК АбонентВнешний,
	ВсеНепринятые.Подразделение КАК Подразделение,
	МАКСИМУМ(ВсеНепринятые.ДатаВремя) КАК МаксДатаВремя
ПОМЕСТИТЬ ВТ_НомераНепринятыеБезАнонимных_КЦ
ИЗ
	(ВЫБРАТЬ РАЗЛИЧНЫЕ
		Т.Дата КАК Дата,
		Т.АбонентВнешний КАК АбонентВнешний,
		Т.Подразделение КАК Подразделение,
		Т.ДатаВремя КАК ДатаВремя
	ИЗ
		ВТ_Звонки_с_фильтром_по_времени_КЦ КАК Т
	ГДЕ
		Т.КолВоЗвонковНеПринятых = 1
		И НЕ Т.АбонентВнешний = "Anonimous"
	
	ОБЪЕДИНИТЬ
	
	ВЫБРАТЬ РАЗЛИЧНЫЕ
		Т.Дата,
		Т.АбонентВнешний,
		Т.КЦ,
		Т.ДатаВремя
	ИЗ
		ВТ_Звонки_с_фильтром_по_времени_ОП КАК Т
	ГДЕ
		Т.КолВоЗвонковНеПринятых = 1
		И НЕ Т.АбонентВнешний = "Anonimous") КАК ВсеНепринятые

СГРУППИРОВАТЬ ПО
	ВсеНепринятые.АбонентВнешний,
	ВсеНепринятые.Дата,
	ВсеНепринятые.Подразделение
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	НАЧАЛОПЕРИОДА(Звонки.Дата, ДЕНЬ) КАК Дата,
	Звонки.АбонентВнешний КАК АбонентВнешний,
	ВЫБОР
		КОГДА Звонки.Принят = ИСТИНА
				И ЗвонкиСтатОбщая.КЦРазговор &gt; 0
				И ЗвонкиСтатОбщая.ОПСсылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Предприятие.ПустаяСсылка)
				И ЗвонкиСтатОбщая.ОПРазговор &gt; 0
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоУспешныхПерезвонов,
	ВЫБОР
		КОГДА Звонки.Принят = ЛОЖЬ
				ИЛИ Звонки.Принят = ЛОЖЬ
					И ЗвонкиСтатОбщая.ОПРазговор = 0
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоНеУспешныхПерезвонов,
	ЗвонкиСтатОбщая.КЦСсылка КАК Подразделение
ПОМЕСТИТЬ ВТ_ПерезвонНаНепринятыеКЦ
ИЗ
	РегистрСведений.ЗвонкиСтатОбщая КАК ЗвонкиСтатОбщая
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Звонки КАК Звонки
		ПО ЗвонкиСтатОбщая.Сигнатура = Звонки.Сигнатура
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВТ_НомераНепринятыеБезАнонимных_КЦ КАК ВТ_НомераНепринятые_КЦ
		ПО (Звонки.АбонентВнешний = ВТ_НомераНепринятые_КЦ.АбонентВнешний)
			И (Звонки.Дата &gt; ВТ_НомераНепринятые_КЦ.МаксДатаВремя)
			И ЗвонкиСтатОбщая.КЦСсылка = ВТ_НомераНепринятые_КЦ.Подразделение
ГДЕ
	Звонки.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И Звонки.ЭтоВходящий = ЛОЖЬ
	И ЗвонкиСтатОбщая.КЦСсылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Предприятие.ПустаяСсылка)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_ПерезвонНаНепринятыеКЦ.Дата КАК Дата,
	ВТ_ПерезвонНаНепринятыеКЦ.Подразделение КАК Подразделение,
	СУММА(ВТ_ПерезвонНаНепринятыеКЦ.КолВоУспешныхПерезвонов) КАК КолВоУспешныхПерезвонов
ПОМЕСТИТЬ ВТ_ПерезвонНаНепринятыеСвод_КЦ
ИЗ
	ВТ_ПерезвонНаНепринятыеКЦ КАК ВТ_ПерезвонНаНепринятыеКЦ

СГРУППИРОВАТЬ ПО
	ВТ_ПерезвонНаНепринятыеКЦ.Дата,
	ВТ_ПерезвонНаНепринятыеКЦ.Подразделение
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	НАЧАЛОПЕРИОДА(Звонки.Дата, ДЕНЬ) КАК Дата,
	ВЫБОР
		КОГДА Звонки.Принят
				И ЗвонкиСтатОбщая.КЦСсылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Предприятие.ПустаяСсылка)
				И ЗвонкиСтатОбщая.КЦРазговор &gt; 0
				И ЗвонкиСтатОбщая.ОПСсылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Предприятие.ПустаяСсылка)
				И ЗвонкиСтатОбщая.ОПРазговор &gt; 0
			ТОГДА 1
		ИНАЧЕ 0
	КОНЕЦ КАК КолВоПовтЗвонковПринятых,
	1 КАК КолВоЗвонковВсего,
	ЗвонкиСтатОбщая.КЦСсылка КАК Подразделение
ПОМЕСТИТЬ ВТ_ПовторныеВхЗвонкиБезФильтраПоВремени_КЦ
ИЗ
	РегистрСведений.ЗвонкиСтатОбщая КАК ЗвонкиСтатОбщая
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Звонки КАК Звонки
		ПО ЗвонкиСтатОбщая.Сигнатура = Звонки.Сигнатура
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.КонтактЦентры КАК КонтактЦентры
		ПО ЗвонкиСтатОбщая.КЦСсылка = КонтактЦентры.Подразделение
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ ВТ_НомераНепринятыеБезАнонимных_КЦ КАК ВТ_НомераНепринятые_КЦ
		ПО (Звонки.АбонентВнешний = ВТ_НомераНепринятые_КЦ.АбонентВнешний)
			И (Звонки.Дата &gt; ВТ_НомераНепринятые_КЦ.МаксДатаВремя)
ГДЕ
	Звонки.Дата МЕЖДУ &amp;НачалоПериода И &amp;КонецПериода
	И Звонки.ЭтоВходящий = ИСТИНА
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_ПовторныеЗвонкиБезФильтраПоВремени_КЦ.Дата КАК Дата,
	СУММА(ВТ_ПовторныеЗвонкиБезФильтраПоВремени_КЦ.КолВоПовтЗвонковПринятых) КАК КолВоПовтЗвонковПринятых,
	ВТ_ПовторныеЗвонкиБезФильтраПоВремени_КЦ.Подразделение КАК Подразделение
ПОМЕСТИТЬ ВТ_ПовторныеВхЗвонкиПринятые_КЦ
ИЗ
	ВТ_ПовторныеВхЗвонкиБезФильтраПоВремени_КЦ КАК ВТ_ПовторныеЗвонкиБезФильтраПоВремени_КЦ

СГРУППИРОВАТЬ ПО
	ВТ_ПовторныеЗвонкиБезФильтраПоВремени_КЦ.Дата,
	ВТ_ПовторныеЗвонкиБезФильтраПоВремени_КЦ.Подразделение
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_НомераНепринятыеБезАнонимных_КЦ.Дата КАК Дата,
	ВТ_НомераНепринятыеБезАнонимных_КЦ.Подразделение КАК Подразделение,
	СУММА(1) КАК КолВоНепринятыхБезАнонимных
ПОМЕСТИТЬ ВТ_НомераНепринятыеБезАнонимныхСвод_КЦ
ИЗ
	ВТ_НомераНепринятыеБезАнонимных_КЦ КАК ВТ_НомераНепринятыеБезАнонимных_КЦ

СГРУППИРОВАТЬ ПО
	ВТ_НомераНепринятыеБезАнонимных_КЦ.Дата,
	ВТ_НомераНепринятыеБезАнонимных_КЦ.Подразделение
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ01.Дата КАК Дата,
	ВТ01.Подразделение КАК Подразделение,
	СУММА(ВТ01.КолВоЗвонковНеПринятых) КАК КолВоЗвонковНеПринятых,
	СУММА(ВТ01.КолВоЗвонковПринятых) КАК КолВоЗвонковПринятых,
	СУММА(ВТ01.КолВоЗвонковВсего) КАК КолВоЗвонковВсего,
	ВЫБОР
		КОГДА СУММА(ВТ01.КолВоЗвонковВсего) &gt; 0
			ТОГДА СУММА(ВТ01.КолВоЗвонковНеПринятых) / СУММА(ВТ01.КолВоЗвонковВсего) * 100
		ИНАЧЕ 0
	КОНЕЦ КАК ДоляНепринятых,
	СУММА(ВТ01.КолВоЗвонковОжиданиеСверхНормы) КАК КолВоЗвонковОжиданиеСверхНормы,
	СУММА(ВТ01.ВремяОжидания) КАК ВремяОжидания,
	ВЫБОР
		КОГДА СУММА(ВТ01.КолВоЗвонковВсего) &gt; 0
			ТОГДА СУММА(ВТ01.КолВоЗвонковОжиданиеСверхНормы) / СУММА(ВТ01.КолВоЗвонковВсего) * 100
		ИНАЧЕ 0
	КОНЕЦ КАК ДоляОжидавшихСверхНормы,
	ВЫБОР
		КОГДА СУММА(ВТ01.КолВоЗвонковВсего) &gt; 0
			ТОГДА СУММА(ВТ01.ВремяОжидания) / СУММА(ВТ01.КолВоЗвонковВсего)
		ИНАЧЕ 0
	КОНЕЦ КАК СреднееВремяОжидания,
	СУММА(ВТ01.КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального) КАК КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального
ПОМЕСТИТЬ ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ
ИЗ
	ВТ_Звонки_с_фильтром_по_времени_КЦ КАК ВТ01

СГРУППИРОВАТЬ ПО
	ВТ01.Дата,
	ВТ01.Подразделение
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.Дата КАК Дата,
	ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.Подразделение КАК Подразделение,
	ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.КолВоЗвонковНеПринятых КАК КолВоЗвонковНеПринятых,
	ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.КолВоЗвонковПринятых КАК КолВоЗвонковПринятых,
	ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.КолВоЗвонковВсего КАК КолВоЗвонковВсего,
	ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.ВремяОжидания КАК ВремяОжидания,
	ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.ДоляОжидавшихСверхНормы КАК ДоляОжидавшихСверхНормы,
	ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.ДоляНепринятых КАК ДоляНепринятых,
	ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.СреднееВремяОжидания КАК СреднееВремяОжидания,
	ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального КАК КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального,
	ЕСТЬNULL(ВТ_НомераНепринятыеБезАнонимныхСвод_КЦ.КолВоНепринятыхБезАнонимных, 0) КАК КолВоНепринятыхКЦБезАнонимных,
	ЕСТЬNULL(ВТ_ПерезвонНаНепринятыеСвод_КЦ.КолВоУспешныхПерезвонов, 0) КАК КолВоУспешныхПерезвоновНаНепринятыеКЦ,
	ЕСТЬNULL(ВТ_ПовторныеВхЗвонкиПринятые_КЦ.КолВоПовтЗвонковПринятых, 0) КАК КолВоПовтЗвонковПринятыхКЦ,
	ВЫБОР
		КОГДА ЕСТЬNULL(ВТ_НомераНепринятыеБезАнонимныхСвод_КЦ.КолВоНепринятыхБезАнонимных, 0) &gt; 0
			ТОГДА (ЕСТЬNULL(ВТ_ПерезвонНаНепринятыеСвод_КЦ.КолВоУспешныхПерезвонов, 0) + ЕСТЬNULL(ВТ_ПовторныеВхЗвонкиПринятые_КЦ.КолВоПовтЗвонковПринятых, 0)) / ЕСТЬNULL(ВТ_НомераНепринятыеБезАнонимныхСвод_КЦ.КолВоНепринятыхБезАнонимных, 0) * 100
		ИНАЧЕ 0
	КОНЕЦ КАК ДоляУспешныхПерезвоновНаПропущенныеКЦ,
	ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.КолВоЗвонковОжиданиеСверхНормы КАК КолВоЗвонковОжиданиеСверхНормы
ПОМЕСТИТЬ КЦ_0
ИЗ
	ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ КАК ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_НомераНепринятыеБезАнонимныхСвод_КЦ КАК ВТ_НомераНепринятыеБезАнонимныхСвод_КЦ
		ПО ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.Дата = ВТ_НомераНепринятыеБезАнонимныхСвод_КЦ.Дата
			И ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.Подразделение = ВТ_НомераНепринятыеБезАнонимныхСвод_КЦ.Подразделение
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_ПерезвонНаНепринятыеСвод_КЦ КАК ВТ_ПерезвонНаНепринятыеСвод_КЦ
		ПО ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.Дата = ВТ_ПерезвонНаНепринятыеСвод_КЦ.Дата
			И ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.Подразделение = ВТ_ПерезвонНаНепринятыеСвод_КЦ.Подразделение
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_ПовторныеВхЗвонкиПринятые_КЦ КАК ВТ_ПовторныеВхЗвонкиПринятые_КЦ
		ПО ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.Дата = ВТ_ПовторныеВхЗвонкиПринятые_КЦ.Дата
			И ВТ_ЗвонкиСФильтромПоВремениСвод_КЦ.Подразделение = ВТ_ПовторныеВхЗвонкиПринятые_КЦ.Подразделение
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	КЦ_0.Подразделение КАК Подразделение,
	СУММА(КЦ_0.КолВоЗвонковНеПринятых) КАК КолВоЗвонковНеПринятых,
	СУММА(КЦ_0.КолВоЗвонковПринятых) КАК КолВоЗвонковПринятых,
	СУММА(КЦ_0.КолВоЗвонковВсего) КАК КолВоЗвонковВсего,
	СУММА(КЦ_0.ВремяОжидания) КАК ВремяОжидания,
	СУММА(КЦ_0.КолВоЗвонковОжиданиеСверхНормы) КАК КолВоЗвонковОжиданиеСверхНормы,
	ВЫБОР
		КОГДА СУММА(КЦ_0.КолВоЗвонковВсего) &gt; 0
			ТОГДА СУММА(КЦ_0.КолВоЗвонковОжиданиеСверхНормы) / СУММА(КЦ_0.КолВоЗвонковВсего) * 100
		ИНАЧЕ 0
	КОНЕЦ КАК ДоляОжидавшихСверхНормы,
	ВЫБОР
		КОГДА СУММА(КЦ_0.КолВоЗвонковВсего) &gt; 0
			ТОГДА СУММА(КЦ_0.КолВоЗвонковНеПринятых) / СУММА(КЦ_0.КолВоЗвонковВсего) * 100
		ИНАЧЕ 0
	КОНЕЦ КАК ДоляНепринятых,
	ВЫБОР
		КОГДА СУММА(КЦ_0.КолВоЗвонковВсего) &gt; 0
			ТОГДА СУММА(КЦ_0.ВремяОжидания) / СУММА(КЦ_0.КолВоЗвонковВсего)
		ИНАЧЕ 0
	КОНЕЦ КАК СреднееВремяОжидания,
	СУММА(КЦ_0.КолВоНепринятыхКЦБезАнонимных) КАК КолВоНепринятыхКЦБезАнонимных,
	СУММА(КЦ_0.КолВоУспешныхПерезвоновНаНепринятыеКЦ) КАК КолВоУспешныхПерезвоновНаНепринятыеКЦ,
	СУММА(КЦ_0.КолВоПовтЗвонковПринятыхКЦ) КАК КолВоПовтЗвонковПринятыхКЦ,
	ВЫБОР
		КОГДА СУММА(КЦ_0.КолВоНепринятыхКЦБезАнонимных) &gt; 0
			ТОГДА (СУММА(КЦ_0.КолВоУспешныхПерезвоновНаНепринятыеКЦ) + СУММА(КЦ_0.КолВоПовтЗвонковПринятыхКЦ)) / СУММА(КЦ_0.КолВоНепринятыхКЦБезАнонимных) * 100
		ИНАЧЕ 0
	КОНЕЦ КАК ДоляУспешныхПерезвоновНаПропущенныеКЦ,
	СУММА(КЦ_0.КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального) КАК КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального
ПОМЕСТИТЬ КЦ_СводБезДат
ИЗ
	КЦ_0 КАК КЦ_0

СГРУППИРОВАТЬ ПО
	КЦ_0.Подразделение
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	КЦ.Дата КАК Дата,
	КЦ.Подразделение КАК Подразделение,
	КЦ.КолВоЗвонковНеПринятых КАК КолВоЗвонковНеПринятых,
	КЦ.КолВоЗвонковПринятых КАК КолВоЗвонковПринятых,
	КЦ.КолВоЗвонковВсего КАК КолВоЗвонковВсего,
	КЦ.ВремяОжидания КАК ВремяОжидания,
	КЦ.КолВоЗвонковОжиданиеСверхНормы КАК КолВоЗвонковОжиданиеСверхНормы,
	КЦ.ДоляОжидавшихСверхНормы КАК ДоляОжидавшихСверхНормы,
	КЦ.ДоляНепринятых КАК ДоляНепринятых,
	КЦ.СреднееВремяОжидания КАК СреднееВремяОжидания,
	КЦ.КолВоНепринятыхКЦБезАнонимных КАК КолВоНепринятыхКЦБезАнонимных,
	КЦ.КолВоУспешныхПерезвоновНаНепринятыеКЦ КАК КолВоУспешныхПерезвоновНаНепринятыеКЦ,
	КЦ.КолВоПовтЗвонковПринятыхКЦ КАК КолВоПовтЗвонковПринятыхКЦ,
	КЦ.ДоляУспешныхПерезвоновНаПропущенныеКЦ КАК ДоляУспешныхПерезвоновНаПропущенныеКЦ,
	КЦ.КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального КАК КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального,
	ЕСТЬNULL(КЦ_СводБезДат.КолВоЗвонковНеПринятых, 0) КАК КолВоЗвонковНеПринятых_Свод,
	ЕСТЬNULL(КЦ_СводБезДат.КолВоЗвонковПринятых, 0) КАК КолВоЗвонковПринятых_Свод,
	ЕСТЬNULL(КЦ_СводБезДат.КолВоЗвонковВсего, 0) КАК КолВоЗвонковВсего_Свод,
	ЕСТЬNULL(КЦ_СводБезДат.ДоляНепринятых, 0) КАК ДоляНепринятых_Свод,
	ЕСТЬNULL(КЦ_СводБезДат.СреднееВремяОжидания, 0) КАК СреднееВремяОжидания_Свод,
	ЕСТЬNULL(КЦ_СводБезДат.КолВоЗвонковОжиданиеСверхНормы, 0) КАК КолВоЗвонковОжиданиеСверхНормы_Свод,
	ЕСТЬNULL(КЦ_СводБезДат.ДоляОжидавшихСверхНормы, 0) КАК ДоляОжидавшихСверхНормы_Свод,
	ЕСТЬNULL(КЦ_СводБезДат.КолВоНепринятыхКЦБезАнонимных, 0) КАК КолВоНепринятыхКЦБезАнонимных_Свод,
	ЕСТЬNULL(КЦ_СводБезДат.КолВоУспешныхПерезвоновНаНепринятыеКЦ, 0) КАК КолВоУспешныхПерезвоновНаНепринятыеКЦ_Свод,
	ЕСТЬNULL(КЦ_СводБезДат.КолВоПовтЗвонковПринятыхКЦ, 0) КАК КолВоПовтЗвонковПринятыхКЦ_Свод,
	ЕСТЬNULL(КЦ_СводБезДат.ДоляУспешныхПерезвоновНаПропущенныеКЦ, 0) КАК ДоляУспешныхПерезвоновНаПропущенныеКЦ_Свод,
	ЕСТЬNULL(КЦ_СводБезДат.ВремяОжидания, 0) КАК ВремяОжидания_Свод,
	ЕСТЬNULL(КЦ_СводБезДат.КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального, 0) КАК КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального_Свод
ПОМЕСТИТЬ КЦ
ИЗ
	КЦ_0 КАК КЦ
		ЛЕВОЕ СОЕДИНЕНИЕ КЦ_СводБезДат КАК КЦ_СводБезДат
		ПО КЦ.Подразделение = КЦ_СводБезДат.Подразделение
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Предприятие КАК Предприятие
		ПО КЦ.Подразделение = Предприятие.Ссылка
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	КЦ.Дата КАК Дата,
	КЦ.Подразделение КАК Подразделение,
	300 КАК ПолеУпорядочиванияПараметра,
	"Кол-во непринятых звонков КЦ" КАК ИмяПараметра,
	КЦ.КолВоЗвонковНеПринятых КАК ЗначениеПараметра,
	КЦ.КолВоЗвонковНеПринятых_Свод КАК КолВоЗвонковНеПринятых_Свод,
	NULL КАК КолВоЗвонковПринятых_Свод,
	NULL КАК КолВоЗвонковВсего_Свод,
	NULL КАК ДоляНепринятых_Свод,
	NULL КАК СреднееВремяОжидания_Свод,
	NULL КАК КолВоЗвонковОжиданиеСверхНормы_Свод,
	NULL КАК ДоляОжидавшихСверхНормы_Свод,
	NULL КАК КолВоНепринятыхКЦБезАнонимных_Свод,
	NULL КАК КолВоУспешныхПерезвоновНаНепринятыеКЦ_Свод,
	NULL КАК КолВоПовтЗвонковПринятыхКЦ_Свод,
	NULL КАК ДоляУспешныхПерезвоновНаПропущенныеКЦ_Свод,
	NULL КАК КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального_Свод
ИЗ
	КЦ КАК КЦ

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КЦ.Дата,
	КЦ.Подразделение,
	200,
	"Кол-во принятых звонков КЦ",
	КЦ.КолВоЗвонковПринятых,
	NULL,
	КЦ.КолВоЗвонковПринятых_Свод,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL
ИЗ
	КЦ КАК КЦ

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КЦ.Дата,
	КЦ.Подразделение,
	100,
	"Кол-во звонков всего",
	КЦ.КолВоЗвонковВсего,
	NULL,
	NULL,
	КЦ.КолВоЗвонковВсего_Свод,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL
ИЗ
	КЦ КАК КЦ

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КЦ.Дата,
	КЦ.Подразделение,
	400,
	"Доля непринятых КЦ, %",
	КЦ.ДоляНепринятых,
	NULL,
	NULL,
	NULL,
	КЦ.ДоляНепринятых_Свод,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL
ИЗ
	КЦ КАК КЦ

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КЦ.Дата,
	КЦ.Подразделение,
	500,
	"Среднее время ожидания ответа КЦ, сек",
	КЦ.СреднееВремяОжидания,
	NULL,
	NULL,
	NULL,
	NULL,
	КЦ.СреднееВремяОжидания_Свод,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL
ИЗ
	КЦ КАК КЦ

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КЦ.Дата,
	КЦ.Подразделение,
	600,
	"Кол-во звонков КЦ, ожидавщих сверх нормы",
	КЦ.КолВоЗвонковОжиданиеСверхНормы,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	КЦ.КолВоЗвонковОжиданиеСверхНормы_Свод,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL
ИЗ
	КЦ КАК КЦ

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КЦ.Дата,
	КЦ.Подразделение,
	700,
	"Доля вызовов со временем ожидания ответа КЦ выше нормы, %",
	КЦ.ДоляОжидавшихСверхНормы,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	КЦ.ДоляОжидавшихСверхНормы_Свод,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL
ИЗ
	КЦ КАК КЦ

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КЦ.Дата,
	КЦ.Подразделение,
	8,
	"Кол-во непринятых номеров (а не звонков) без анонимных",
	КЦ.КолВоНепринятыхКЦБезАнонимных,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	КЦ.КолВоНепринятыхКЦБезАнонимных_Свод,
	NULL,
	NULL,
	NULL,
	NULL
ИЗ
	КЦ КАК КЦ

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КЦ.Дата,
	КЦ.Подразделение,
	9,
	"Кол-во успешных перезвонов на непринятые вызовы",
	КЦ.КолВоУспешныхПерезвоновНаНепринятыеКЦ,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	КЦ.КолВоУспешныхПерезвоновНаНепринятыеКЦ_Свод,
	NULL,
	NULL,
	NULL
ИЗ
	КЦ КАК КЦ

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КЦ.Дата,
	КЦ.Подразделение,
	10,
	"Количество повторных входящих вызовов принятых на изначально непринятые",
	КЦ.КолВоПовтЗвонковПринятыхКЦ,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	КЦ.КолВоПовтЗвонковПринятыхКЦ_Свод,
	NULL,
	NULL
ИЗ
	КЦ КАК КЦ

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КЦ.Дата,
	КЦ.Подразделение,
	11,
	"Доля успешных перезвонов на пропущенные, %",
	КЦ.ДоляУспешныхПерезвоновНаПропущенныеКЦ,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	КЦ.ДоляУспешныхПерезвоновНаПропущенныеКЦ_Свод,
	NULL
ИЗ
	КЦ КАК КЦ

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КЦ.Дата,
	КЦ.Подразделение,
	450,
	"Количество непринятых КЦ с ожиданием меньше 2 сек",
	КЦ.КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	NULL,
	КЦ.КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального_Свод
ИЗ
	КЦ КАК КЦ</query>
	</dataSet>
	<dataSetLink>
		<sourceDataSet/>
		<destinationDataSet/>
		<sourceExpression/>
		<destinationExpression/>
	</dataSetLink>
	<calculatedField>
		<dataPath>ВычЗначениеПараметра</dataPath>
		<expression>Окр(ЗначениеПараметра,0) </expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content> </v8:content>
			</v8:item>
		</title>
	</calculatedField>
	<totalField>
		<dataPath>ЗначениеПараметра</dataPath>
		<expression>Сумма(ЗначениеПараметра)</expression>
		<group>Подразделение</group>
	</totalField>
	<totalField>
		<dataPath>ВычЗначениеПараметра</dataPath>
		<expression>Сумма(ВычЗначениеПараметра)</expression>
		<group>Подразделение</group>
	</totalField>
	<parameter>
		<name>НачалоПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Начало периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>false</useRestriction>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>КонецПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Конец периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>false</useRestriction>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>НормаВремениОжиданияКЦ</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Норма времени ожидания КЦ, сек</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>5</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Nonnegative</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
		<value xsi:type="xs:decimal">20</value>
		<useRestriction>false</useRestriction>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>ИсключаемыеТеНомераПриемники</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Исключить вх. звонки на  следующие номера-приемники</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.ТелВнешние</v8:Type>
		</valueType>
		<useRestriction>false</useRestriction>
		<valueListAllowed>true</valueListAllowed>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>МинВремяОжиданияВОчереди</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Не учитывать непринятые со временем ожидания в очереди менее, сек</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>5</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Nonnegative</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
		<value xsi:type="xs:decimal">5</value>
		<useRestriction>false</useRestriction>
		<use>Always</use>
	</parameter>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="xs:string">Основной</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:userFields>
				<dcsset:item xsi:type="dcsset:UserFieldExpression">
					<dcsset:dataPath>ПользовательскиеПоля.Поле1</dcsset:dataPath>
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Итого</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:detailExpression/>
					<dcsset:detailExpressionPresentation/>
					<dcsset:totalExpression>Выбор
	Когда СистемныеПоля.Уровень = 1
		Тогда 0
	Иначе Выбор
			Когда ИмяПараметра = "Кол-во непринятых звонков КЦ"
				Тогда КолВоЗвонковНеПринятых_Свод
			Когда ИмяПараметра = "Кол-во принятых звонков КЦ"
				Тогда КолВоЗвонковПринятых_Свод
			Когда ИмяПараметра = "Кол-во звонков всего"
				Тогда КолВоЗвонковВсего_Свод
			Когда ИмяПараметра = "Доля непринятых КЦ, %"
				Тогда ДоляНепринятых_Свод
			Когда ИмяПараметра = "Среднее время ожидания ответа КЦ, сек"
				Тогда СреднееВремяОжидания_Свод
			Когда ИмяПараметра = "Кол-во звонков КЦ, ожидавщих сверх нормы"
				Тогда КолВоЗвонковОжиданиеСверхНормы_Свод
			Когда ИмяПараметра = "Доля вызовов со временем ожидания ответа КЦ выше нормы, %"
				Тогда ДоляОжидавшихСверхНормы_Свод
			Когда ИмяПараметра = "Кол-во непринятых номеров (а не звонков) без анонимных"
				Тогда КолВоНепринятыхКЦБезАнонимных_Свод
			Когда ИмяПараметра = "Кол-во успешных перезвонов на непринятые вызовы"
				Тогда КолВоУспешныхПерезвоновНаНепринятыеКЦ_Свод
			Когда ИмяПараметра = "Количество повторных входящих вызовов принятых на изначально непринятые"
				Тогда КолВоПовтЗвонковПринятыхКЦ_Свод
			Когда ИмяПараметра = "Доля успешных перезвонов на пропущенные, %"
				Тогда ДоляУспешныхПерезвоновНаПропущенныеКЦ_Свод
			Когда ИмяПараметра = "Количество непринятых КЦ с ожиданием меньше 2 сек"
				Тогда КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального_Свод
		Конец
Конец</dcsset:totalExpression>
					<dcsset:totalExpressionPresentation>Выбор
	Когда Уровень = 1
		Тогда 0
	Иначе Выбор
			Когда [Имя параметра] = "Кол-во непринятых звонков КЦ"
				Тогда [Кол во звонков не принятых свод]
			Когда [Имя параметра] = "Кол-во принятых звонков КЦ"
				Тогда [Кол во звонков принятых свод]
			Когда [Имя параметра] = "Кол-во звонков всего"
				Тогда [Кол во звонков всего свод]
			Когда [Имя параметра] = "Доля непринятых КЦ, %"
				Тогда [Доля непринятых свод]
			Когда [Имя параметра] = "Среднее время ожидания ответа КЦ, сек"
				Тогда [Среднее время ожидания свод]
			Когда [Имя параметра] = "Кол-во звонков КЦ, ожидавщих сверх нормы"
				Тогда [Кол во звонков ожидание сверх нормы свод]
			Когда [Имя параметра] = "Доля вызовов со временем ожидания ответа КЦ выше нормы, %"
				Тогда [Доля ожидавших сверх нормы свод]
			Когда [Имя параметра] = "Кол-во непринятых номеров (а не звонков) без анонимных"
				Тогда [Кол во непринятых КЦБез анонимных свод]
			Когда [Имя параметра] = "Кол-во успешных перезвонов на непринятые вызовы"
				Тогда [Кол во успешных перезвонов на непринятые к ц свод]
			Когда [Имя параметра] = "Количество повторных входящих вызовов принятых на изначально непринятые"
				Тогда [Кол во повт звонков принятых к ц свод]
			Когда [Имя параметра] = "Доля успешных перезвонов на пропущенные, %"
				Тогда [Доля успешных перезвонов на пропущенные к ц свод]
			Когда [Имя параметра] = "Количество непринятых КЦ с ожиданием меньше 2 сек"
				Тогда [Кол во звонков не принятых с ожиданием меньше минимального свод]
		Конец
Конец</dcsset:totalExpressionPresentation>
				</dcsset:item>
			</dcsset:userFields>
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Дата</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДоляНепринятых_Свод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДоляОжидавшихСверхНормы_Свод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДоляУспешныхПерезвоновНаПропущенныеКЦ_Свод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:use>false</dcsset:use>
					<dcsset:field>ЗначениеПараметра</dcsset:field>
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content> </v8:content>
						</v8:item>
					</dcsset:lwsTitle>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ВычЗначениеПараметра</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ИмяПараметра</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КолВоЗвонковВсего_Свод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КолВоЗвонковНеПринятых_Свод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КолВоЗвонковНеПринятыхСОжиданиемМеньшеМинимального_Свод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КолВоЗвонковОжиданиеСверхНормы_Свод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КолВоЗвонковПринятых_Свод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КолВоНепринятыхКЦБезАнонимных_Свод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КолВоПовтЗвонковПринятыхКЦ_Свод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КолВоУспешныхПерезвоновНаНепринятыеКЦ_Свод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Подразделение</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ПолеУпорядочиванияПараметра</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СреднееВремяОжидания_Свод</dcsset:field>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:left xsi:type="dcscor:Field">ПолеУпорядочиванияПараметра</dcsset:left>
					<dcsset:comparisonType>GreaterOrEqual</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:decimal">100</dcsset:right>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:conditionalAppearance>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>ПользовательскиеПоля.Поле1</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter/>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>Формат</dcscor:parameter>
							<dcscor:value xsi:type="v8:LocalStringType">
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>ЧДЦ=</v8:content>
								</v8:item>
							</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection/>
					<dcsset:filter/>
					<dcsset:appearance/>
				</dcsset:item>
			</dcsset:conditionalAppearance>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МакетОформления</dcscor:parameter>
					<dcscor:value xsi:type="xs:string">Античный</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>РасположениеИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ГоризонтальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВертикальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьОтбор</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemTable">
				<dcsset:column>
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>Дата</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
				</dcsset:column>
				<dcsset:column>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemField">
							<dcsset:field>ПользовательскиеПоля.Поле1</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:outputParameters>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>РасположениеИтогов</dcscor:parameter>
							<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">Auto</dcscor:value>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>РасположениеОбщихИтогов</dcscor:parameter>
							<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>ВариантИспользованияГруппировки</dcscor:parameter>
							<dcscor:value xsi:type="dcsset:DataCompositionGroupUseVariant">AdditionalInformation</dcscor:value>
						</dcscor:item>
					</dcsset:outputParameters>
				</dcsset:column>
				<dcsset:row>
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>ИмяПараметра</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
					<dcsset:item>
						<dcsset:groupItems>
							<dcsset:item xsi:type="dcsset:GroupItemField">
								<dcsset:field>Подразделение</dcsset:field>
								<dcsset:groupType>Items</dcsset:groupType>
								<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
								<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
								<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
							</dcsset:item>
						</dcsset:groupItems>
						<dcsset:order>
							<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
						</dcsset:order>
						<dcsset:selection>
							<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
						</dcsset:selection>
					</dcsset:item>
				</dcsset:row>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>